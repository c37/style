// https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Flexible_boxes
// http://dev.w3.org/csswg/css-flexbox-1
// https://css-tricks.com/snippets/css/a-guide-to-flexbox/
// grid
div {
    &.grid {
        margin: 0px auto 25px auto;
        @include breakpoint(medium) {
            padding-left: 10px;
            padding-right: 10px;
        }
        @include breakpoint(large) {
            padding-left: 15px;
            padding-right: 15px;
        }
        &.debug {
            @include debug-grid;
            >div.row {
                @include debug-row;
                >div[class^='column'],
                >div[class*=' column'] {
                    @include debug-column;
                }
            }
        }
        &.fluid {
            width: $width-flex;
            height: $height-flex; 
            box-sizing: border-box;
            padding: 0 !important;
            margin: 0 !important;
        }
        &.large {
            max-width: $width-large;
        }
        &.big {
            max-width: $width-big;
        }
        &.medium {
            max-width: $width-medium;
        }
        &.small {
            max-width: $width-small;
        }
    }
}

// row
div.row {
    margin: 1px 0 1px 0;
    &.debug {
        @include debug-row;
        >div[class^='column'],
        >div[class*=' column'] {
            @include debug-column;
        }
    }
    @include flex;
    @include flex-items-row;
    @include flex-items-wrap;
    @include breakpoint(medium) {
        @include flex-items-column;
        @include flex-items-nowrap;
    }
    &.space,
    &.space>div.row {
        margin-left: -$grid-space;
        @include breakpoint(medium) {
            margin-left: 0;
        }
        &>.column {
            margin-left: $grid-space;
            @include breakpoint(medium) {
                margin-left: 0;
            }
        }
    }
    &.around {
        @include flex-items-space-around;
    }
    &.between {
        @include flex-items-space-between;
    }
    &.auto {
        & .column {
            @include flex-item-grow(1);
        }
    }
    @include breakpoint(medium) {
        & div.column {
            margin-left: 0;
            width: 100%;
        }
        &.space {
            & div.column {
                margin-bottom: $text-margin-bottom;
            }
        }
    }
}

// authenticate
div.authenticate {
    height: 100%;
    width: 100%;
    &.debug {
        @include debug-row;
        >div[class^='column'],
        >div[class*=' column'] {
            @include debug-column;
        }
    }
    @include flex;
    @include flex-items-row;
    @include flex-items-wrap;
    @include breakpoint(small) {
        @include flex-items-column;
        @include flex-items-nowrap;
    }
    @include breakpoint(small) {
        & div.column {
            margin-left: 0;
            width: 100%;
            // height: 100%; - para permanecer em center
        }
    }
    >.column-450 {
        width: 450px;
    }
}

// columns
@for $i from 1 through $grid-columns {
    div.column-#{$i} {
        width: 100% / $grid-columns * $i;
    }
    div.offset-#{$i} {
        $width: 100% / $grid-columns * $i;
        margin-left: $width;
    }
}

// columns - with space
.space {
    @for $i from 1 through $grid-columns {
        &>div.column-#{$i} {
            $width: 100% / $grid-columns * $i;
            width: calc(#{$width} - #{$grid-space});
        }
        &>div.offset-#{$i} {
            $width: 100% / $grid-columns * $i;
            margin-left: calc(#{$width} + #{$grid-space}) !important;
        }
    }
}

// columns - format
div[class^='column'],
div[class*=' column'] {
    box-sizing: border-box;
    padding: 0px;
}

// offset
[class^='offset-'],
[class*=' offset-'] {
    @include breakpoint(medium) {
        margin-left: 0;
    }
}

// ordering
.first {
    order: -1;
}

.last {
    order: 1;
}

// grid media - columns
@mixin grid-media-columns($num) {
    column-count: $num;
    column-gap: $grid-space;
    &>div {
        display: inline-block;
        width: 100%;
    }
    @include breakpoint(medium) {
        column-count: 1;
    }
}

// grid media
.media-grid {
    @include grid-media-columns(2);
    &.debug {
        &>div {
            @include debug-row;
        }
    }
    &>div {
        box-sizing: border-box;
        padding: 7px;
        margin-bottom: 20px;
        height: 80px;
    }
    &>div:nth-child(2n) {
        height: 200px;
    }
    &>div:nth-child(5n) {
        height: 120px;
    }
}